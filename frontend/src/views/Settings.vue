<template>
  <div class="settings-page">
    <div class="settings-header">
      <h1>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
      <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞—à–∏–º –∞–∫–∫–∞—É–Ω—Ç–æ–º –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º–∏</p>
    </div>

    <div class="settings-content">
      <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
      <div class="settings-section">
        <div class="section-header">
          <h2>üë§ –ü—Ä–æ—Ñ–∏–ª—å</h2>
          <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π</p>
        </div>
        
        <div class="settings-items">
          <router-link to="/profile" class="settings-item">
            <div class="item-icon">üìù</div>
            <div class="item-content">
              <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</h3>
              <p>–ò–∑–º–µ–Ω–∏—Ç—å –ª–∏—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, —Ñ–æ—Ç–æ, –æ–ø–∏—Å–∞–Ω–∏–µ</p>
            </div>
            <div class="item-arrow">‚Üí</div>
          </router-link>
          
          <router-link v-if="userType === 'candidate'" to="/resume" class="settings-item">
            <div class="item-icon">üìÑ</div>
            <div class="item-content">
              <h3>–ú–æ—ë —Ä–µ–∑—é–º–µ</h3>
              <p>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã –∏ –Ω–∞–≤—ã–∫–∏</p>
            </div>
            <div class="item-arrow">‚Üí</div>
          </router-link>
          
          <router-link v-if="userType === 'employer'" to="/dashboard" class="settings-item">
            <div class="item-icon">üè¢</div>
            <div class="item-content">
              <h3>–ü–∞–Ω–µ–ª—å —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è</h3>
              <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–µ–π –∏ –≤–∞–∫–∞–Ω—Å–∏—è–º–∏</p>
            </div>
            <div class="item-arrow">‚Üí</div>
          </router-link>
        </div>
      </div>

      <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
      <div class="settings-section">
        <div class="section-header">
          <h2>üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h2>
          <p>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–ø–æ—Å–æ–±–æ–≤ –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</p>
        </div>
        
        <div class="settings-items">
          <router-link to="/settings/notifications" class="settings-item">
            <div class="item-icon">üì±</div>
            <div class="item-content">
              <h3>Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
              <p>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</p>
            </div>
            <div class="item-arrow">‚Üí</div>
          </router-link>
          
          <div class="settings-item">
            <div class="item-icon">üìß</div>
            <div class="item-content">
              <h3>Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
              <p>–ü–æ–ª—É—á–∞—Ç—å –≤–∞–∂–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ –ø–æ—á—Ç—É</p>
              <span class="coming-soon">–°–∫–æ—Ä–æ –¥–æ—Å—Ç—É–ø–Ω–æ</span>
            </div>
            <div class="item-toggle">
              <input type="checkbox" disabled />
            </div>
          </div>
          
          <div class="settings-item">
            <div class="item-icon">üì≤</div>
            <div class="item-content">
              <h3>Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
              <p>–ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram</p>
              <div class="notification-status">
                <span :class="['status-indicator', telegramNotifications ? 'active' : 'inactive']"></span>
                {{ telegramNotifications ? '–ü–æ–¥–∫–ª—é—á–µ–Ω–æ' : '–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ' }}
              </div>
            </div>
            <div class="item-toggle">
              <input 
                type="checkbox" 
                v-model="telegramNotifications"
                @change="toggleTelegramNotifications"
              />
            </div>
          </div>
        </div>
      </div>

      <!-- –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å -->
      <div class="settings-section">
        <div class="section-header">
          <h2>üîí –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å</h2>
          <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç—å—é –ø—Ä–æ—Ñ–∏–ª—è –∏ –¥–∞–Ω–Ω—ã—Ö</p>
        </div>
        
        <div class="settings-items">
          <div class="settings-item">
            <div class="item-icon">üëÅÔ∏è</div>
            <div class="item-content">
              <h3>–ü—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å</h3>
              <p>–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º</p>
            </div>
            <div class="item-toggle">
              <input 
                type="checkbox" 
                v-model="privacySettings.publicProfile"
                @change="updatePrivacySettings"
              />
            </div>
          </div>
          
          <div v-if="userType === 'candidate'" class="settings-item">
            <div class="item-icon">üì±</div>
            <div class="item-content">
              <h3>–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω</h3>
              <p>–û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ –ø—Ä–æ—Ñ–∏–ª–µ</p>
            </div>
            <div class="item-toggle">
              <input 
                type="checkbox" 
                v-model="privacySettings.showPhone"
                @change="updatePrivacySettings"
              />
            </div>
          </div>
          
          <div class="settings-item">
            <div class="item-icon">üìä</div>
            <div class="item-content">
              <h3>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h3>
              <p>–ü–æ–º–æ—á—å —É–ª—É—á—à–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–Ω–æ–Ω–∏–º–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏</p>
            </div>
            <div class="item-toggle">
              <input 
                type="checkbox" 
                v-model="privacySettings.analytics"
                @change="updatePrivacySettings"
              />
            </div>
          </div>
          
          <router-link to="/settings/privacy" class="settings-item">
            <div class="item-icon">üìã</div>
            <div class="item-content">
              <h3>–ü–æ–¥—Ä–æ–±–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
              <p>–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –¥–∞–Ω–Ω—ã–µ</p>
            </div>
            <div class="item-arrow">‚Üí</div>
          </router-link>
        </div>
      </div>

      <!-- –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è -->
      <div class="settings-section">
        <div class="section-header">
          <h2>üé® –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è</h2>
          <p>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è</p>
        </div>
        
        <div class="settings-items">
          <div class="settings-item">
            <div class="item-icon">üåô</div>
            <div class="item-content">
              <h3>–¢—ë–º–Ω–∞—è —Ç–µ–º–∞</h3>
              <p>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—ë–º–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</p>
              <span class="coming-soon">–°–∫–æ—Ä–æ –¥–æ—Å—Ç—É–ø–Ω–æ</span>
            </div>
            <div class="item-toggle">
              <input type="checkbox" disabled />
            </div>
          </div>
          
          <div class="settings-item">
            <div class="item-icon">üó£Ô∏è</div>
            <div class="item-content">
              <h3>–Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</h3>
              <p>–†—É—Å—Å–∫–∏–π</p>
            </div>
            <div class="item-select">
              <select disabled>
                <option>–†—É—Å—Å–∫–∏–π</option>
                <option>“ö–∞–∑–∞“õ—à–∞</option>
                <option>English</option>
              </select>
            </div>
          </div>
          
          <div class="settings-item">
            <div class="item-icon">üîÑ</div>
            <div class="item-content">
              <h3>–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–π</h3>
              <p>–û–±–Ω–æ–≤–ª—è—Ç—å —Å–ø–∏—Å–æ–∫ –≤–∞–∫–∞–Ω—Å–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</p>
            </div>
            <div class="item-toggle">
              <input 
                type="checkbox" 
                v-model="preferences.autoRefresh"
                @change="updatePreferences"
              />
            </div>
          </div>
        </div>
      </div>

      <!-- –ê–∫–∫–∞—É–Ω—Ç -->
      <div class="settings-section">
        <div class="section-header">
          <h2>üè† –ê–∫–∫–∞—É–Ω—Ç</h2>
          <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–º –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é</p>
        </div>
        
        <div class="settings-items">
          <div class="settings-item">
            <div class="item-icon">üë§</div>
            <div class="item-content">
              <h3>–¢–∏–ø –∞–∫–∫–∞—É–Ω—Ç–∞</h3>
              <p>{{ userTypeLabel }}</p>
            </div>
            <div class="item-badge">
              {{ userTypeBadge }}
            </div>
          </div>
          
          <div v-if="userType === 'candidate'" class="settings-item clickable" @click="switchToEmployer">
            <div class="item-icon">üè¢</div>
            <div class="item-content">
              <h3>–°—Ç–∞—Ç—å —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–µ–º</h3>
              <p>–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è</p>
            </div>
            <div class="item-arrow">‚Üí</div>
          </div>
          
          <div class="settings-item">
            <div class="item-icon">üìä</div>
            <div class="item-content">
              <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
              <p>{{ stats.totalViews }} –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –ø—Ä–æ—Ñ–∏–ª—è</p>
            </div>
            <div class="item-arrow">‚Üí</div>
          </div>
          
          <div class="settings-item danger" @click="confirmLogout">
            <div class="item-icon">üö™</div>
            <div class="item-content">
              <h3>–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</h3>
              <p>–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é</p>
            </div>
            <div class="item-arrow">‚Üí</div>
          </div>
        </div>
      </div>

      <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
      <div class="settings-section">
        <div class="section-header">
          <h2>‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
          <p>–û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞</p>
        </div>
        
        <div class="settings-items">
          <router-link to="/help" class="settings-item">
            <div class="item-icon">‚ùì</div>
            <div class="item-content">
              <h3>–°–ø—Ä–∞–≤–∫–∞ –∏ FAQ</h3>
              <p>–û—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</p>
            </div>
            <div class="item-arrow">‚Üí</div>
          </router-link>
          
          <router-link to="/about" class="settings-item">
            <div class="item-icon">üì±</div>
            <div class="item-content">
              <h3>–û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</h3>
              <p>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ ShiftworkKZ</p>
            </div>
            <div class="item-arrow">‚Üí</div>
          </router-link>
          
          <div class="settings-item">
            <div class="item-icon">üìß</div>
            <div class="item-content">
              <h3>–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</h3>
              <p>–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤ –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</p>
            </div>
            <div class="item-arrow">‚Üí</div>
          </div>
          
          <div class="settings-item">
            <div class="item-icon">üîÑ</div>
            <div class="item-content">
              <h3>–í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h3>
              <p>{{ appVersion }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—ã—Ö–æ–¥–∞ -->
    <div v-if="showLogoutModal" class="modal-overlay" @click="showLogoutModal = false">
      <div class="modal-content" @click.stop>
        <div class="modal-header">
          <h3>üö™ –í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞?</h3>
          <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Å–µ—Å—Å–∏—é?</p>
        </div>
        
        <div class="modal-actions">
          <button @click="showLogoutModal = false" class="modal-btn cancel">
            –û—Ç–º–µ–Ω–∞
          </button>
          <button @click="logout" class="modal-btn confirm" :disabled="isLoggingOut">
            <span v-if="isLoggingOut">‚è≥ –í—ã—Ö–æ–¥...</span>
            <span v-else>–í—ã–π—Ç–∏</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted } from 'vue'
import { useRouter } from 'vue-router'
import { useAuthStore } from '@/stores/auth'
import { supabase } from '@/services/supabase'

const router = useRouter()
const authStore = useAuthStore()

// –°–æ—Å—Ç–æ—è–Ω–∏–µ
const telegramNotifications = ref(true)
const showLogoutModal = ref(false)
const isLoggingOut = ref(false)

const privacySettings = ref({
  publicProfile: true,
  showPhone: false,
  analytics: true
})

const preferences = ref({
  autoRefresh: true
})

const stats = ref({
  totalViews: 127,
  totalApplications: 5,
  totalBadges: 3
})

const appVersion = ref('1.0.0 Beta')

// –í—ã—á–∏—Å–ª—è–µ–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
const userType = computed(() => authStore.user?.user_metadata?.user_type || 'candidate')

const userTypeLabel = computed(() => {
  switch (userType.value) {
    case 'employer':
      return '–†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å'
    case 'admin':
      return '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä'
    case 'candidate':
    default:
      return '–°–æ–∏—Å–∫–∞—Ç–µ–ª—å'
  }
})

const userTypeBadge = computed(() => {
  switch (userType.value) {
    case 'employer':
      return 'üè¢'
    case 'admin':
      return '‚öôÔ∏è'
    case 'candidate':
    default:
      return 'üë§'
  }
})

// –ú–µ—Ç–æ–¥—ã
const toggleTelegramNotifications = async () => {
  try {
    // TODO: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    console.log('Toggle Telegram notifications:', telegramNotifications.value)
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:', error)
    // –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ
    telegramNotifications.value = !telegramNotifications.value
  }
}

const updatePrivacySettings = async () => {
  try {
    const { error } = await supabase
      .from('profiles')
      .update({
        privacy_settings: privacySettings.value,
        updated_at: new Date().toISOString()
      })
      .eq('user_id', authStore.user.id)

    if (error) throw error
    
    console.log('Privacy settings updated')
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏:', error)
  }
}

const updatePreferences = async () => {
  try {
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
    localStorage.setItem('userPreferences', JSON.stringify(preferences.value))
    
    // –¢–∞–∫–∂–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ë–î
    const { error } = await supabase
      .from('profiles')
      .update({
        preferences: preferences.value,
        updated_at: new Date().toISOString()
      })
      .eq('user_id', authStore.user.id)

    if (error) throw error
    
    console.log('Preferences updated')
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π:', error)
  }
}

const switchToEmployer = () => {
  // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∫–æ–º–ø–∞–Ω–∏–∏
  router.push('/company/register')
}

const confirmLogout = () => {
  showLogoutModal.value = true
}

const logout = async () => {
  isLoggingOut.value = true
  
  try {
    await authStore.logout()
    router.push('/auth')
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –≤—ã—Ö–æ–¥–∞:', error)
  } finally {
    isLoggingOut.value = false
    showLogoutModal.value = false
  }
}

const loadUserSettings = async () => {
  try {
    if (!authStore.user) return

    // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è
    const { data: profile, error } = await supabase
      .from('profiles')
      .select('privacy_settings, preferences')
      .eq('user_id', authStore.user.id)
      .single()

    if (error) throw error

    if (profile.privacy_settings) {
      privacySettings.value = { ...privacySettings.value, ...profile.privacy_settings }
    }

    if (profile.preferences) {
      preferences.value = { ...preferences.value, ...profile.preferences }
    }

    // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑ localStorage
    const savedPreferences = localStorage.getItem('userPreferences')
    if (savedPreferences) {
      preferences.value = { ...preferences.value, ...JSON.parse(savedPreferences) }
    }

  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫:', error)
  }
}

onMounted(() => {
  loadUserSettings()
})
</script>

<style scoped>
.settings-page {
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
  background: #f8f9fa;
  min-height: 100vh;
}

.settings-header {
  text-align: center;
  margin-bottom: 30px;
  padding: 30px 20px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: 15px;
}

.settings-header h1 {
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 8px;
}

.settings-header p {
  font-size: 1.1rem;
  opacity: 0.9;
}

.settings-content {
  display: grid;
  gap: 25px;
}

.settings-section {
  background: white;
  border-radius: 15px;
  padding: 25px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.section-header {
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 2px solid #f1f3f4;
}

.section-header h2 {
  font-size: 1.3rem;
  font-weight: 600;
  margin-bottom: 5px;
  color: #333;
}

.section-header p {
  color: #666;
  font-size: 0.95rem;
}

.settings-items {
  display: grid;
  gap: 0;
}

.settings-item {
  display: flex;
  align-items: center;
  padding: 18px 0;
  text-decoration: none;
  color: inherit;
  border-bottom: 1px solid #f1f3f4;
  transition: all 0.3s ease;
  cursor: pointer;
}

.settings-item:last-child {
  border-bottom: none;
}

.settings-item:hover:not(.danger) {
  background: #f8f9fa;
  margin: 0 -25px;
  padding-left: 25px;
  padding-right: 25px;
}

.settings-item.danger {
  color: #dc3545;
}

.settings-item.danger:hover {
  background: #fff5f5;
  margin: 0 -25px;
  padding-left: 25px;
  padding-right: 25px;
}

.item-icon {
  font-size: 1.5rem;
  margin-right: 15px;
  width: 30px;
  text-align: center;
}

.item-content {
  flex: 1;
}

.item-content h3 {
  font-size: 1rem;
  font-weight: 500;
  margin-bottom: 3px;
  color: inherit;
}

.item-content p {
  font-size: 0.9rem;
  color: #666;
  margin: 0;
}

.coming-soon {
  display: inline-block;
  background: #ff6b35;
  color: white;
  font-size: 0.75rem;
  padding: 2px 8px;
  border-radius: 12px;
  font-weight: 500;
  margin-top: 5px;
}

.notification-status {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-top: 5px;
  font-size: 0.85rem;
  font-weight: 500;
}

.status-indicator {
  width: 8px;
  height: 8px;
  border-radius: 50%;
}

.status-indicator.active {
  background: #28a745;
  animation: pulse 2s infinite;
}

.status-indicator.inactive {
  background: #dc3545;
}

@keyframes pulse {
  0% { opacity: 1; }
  50% { opacity: 0.5; }
  100% { opacity: 1; }
}

.item-arrow {
  font-size: 1.2rem;
  color: #666;
  margin-left: 10px;
}

.item-toggle {
  margin-left: 10px;
}

.item-toggle input[type="checkbox"] {
  width: 20px;
  height: 20px;
  accent-color: #667eea;
  cursor: pointer;
}

.item-toggle input[type="checkbox"]:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.item-select select {
  padding: 6px 10px;
  border: 1px solid #ddd;
  border-radius: 6px;
  background: white;
  font-size: 0.9rem;
}

.item-select select:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.item-badge {
  font-size: 1.2rem;
  margin-left: 10px;
}

.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.modal-content {
  background: white;
  border-radius: 15px;
  padding: 30px;
  max-width: 400px;
  width: 90%;
  text-align: center;
}

.modal-header h3 {
  margin-bottom: 10px;
  color: #333;
}

.modal-header p {
  color: #666;
  margin-bottom: 25px;
}

.modal-actions {
  display: flex;
  gap: 15px;
  justify-content: center;
}

.modal-btn {
  padding: 12px 25px;
  border: none;
  border-radius: 8px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
  min-width: 100px;
}

.modal-btn.cancel {
  background: #f8f9fa;
  color: #666;
  border: 2px solid #e9ecef;
}

.modal-btn.confirm {
  background: #dc3545;
  color: white;
}

.modal-btn:hover:not(:disabled) {
  transform: translateY(-2px);
}

.modal-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

@media (max-width: 768px) {
  .settings-page {
    padding: 15px;
  }
  
  .settings-header {
    padding: 25px 15px;
  }
  
  .settings-section {
    padding: 20px;
  }
  
  .settings-item {
    padding: 15px 0;
  }
  
  .item-content h3 {
    font-size: 0.95rem;
  }
  
  .item-content p {
    font-size: 0.85rem;
  }
  
  .modal-content {
    padding: 25px 20px;
  }
  
  .modal-actions {
    flex-direction: column;
  }
  
  .modal-btn {
    width: 100%;
  }
}
</style>
