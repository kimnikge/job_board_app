<template>
  <div id="app">
    <!-- –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <div class="debug-info">
      <p>Telegram Web App: {{ isTelegramWebApp ? '–î–ê' : '–ù–ï–¢' }}</p>
    </div>
    
    <!-- –ü—Ä–æ—Å—Ç–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="page-content">
      <div class="test-content">
        <h1>üéâ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!</h1>
        <p>–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±–µ–∑ —Ä–æ—É—Ç–µ—Ä–∞ –∏ —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏</p>
        <p v-if="isTelegramWebApp">–í—ã –≤ Telegram Web App!</p>
        <p v-else>–í—ã –≤ –æ–±—ã—á–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ</p>
      </div>
    </main>
  </div>
</template>

<script>
import { ref, onMounted } from 'vue'

export default {
  name: 'App',
  setup() {
    const isTelegramWebApp = ref(false)

    onMounted(() => {
      try {
        console.log('üöÄ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π App.vue')
        
        // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
        const hasTelegram = typeof window !== 'undefined' && window.Telegram
        const hasWebApp = hasTelegram && window.Telegram.WebApp
        const hasInitData = hasWebApp && window.Telegram.WebApp.initData
        
        isTelegramWebApp.value = !!hasInitData
        console.log('üì± Telegram Web App:', isTelegramWebApp.value)
        
      } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error)
        isTelegramWebApp.value = false
      }
    })

    return {
      isTelegramWebApp
    }
  }
}
</script>

<style>
#app {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background: #1a1a2e;
  color: white;
  font-family: Arial, sans-serif;
}

.debug-info {
  background: rgba(76, 175, 80, 0.2);
  padding: 10px;
  font-size: 12px;
  border-bottom: 1px solid rgba(76, 175, 80, 0.3);
}

.debug-info p {
  margin: 0;
}

.page-content {
  flex: 1;
  padding: 20px;
}

.test-content {
  text-align: center;
  max-width: 600px;
  margin: 0 auto;
  padding: 40px 20px;
}

h1 {
  color: #4CAF50;
  margin-bottom: 20px;
}

p {
  margin: 15px 0;
  font-size: 18px;
  line-height: 1.5;
}
</style>
