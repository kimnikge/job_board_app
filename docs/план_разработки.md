# üöÄ –ù–û–í–´–ô –ü–õ–ê–ù –†–ê–ó–í–ò–¢–ò–Ø –ü–†–û–ï–ö–¢–ê (v2)

## 0. TL;DR (–∫–æ—Ä–æ—Ç–∫–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è)
–¶–µ–ª—å: —Å–¥–µ–ª–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –∂–∏–≤—ã–º (–≤–∏–¥–µ–æ + –Ω–∞–≤—ã–∫–∏ + –±–µ–π–¥–∂–∏ + –æ–ø—ã—Ç), –∑–∞—Ç–µ–º —É–ª—É—á—à–∞—Ç—å –≤–∏–∑—É–∞–ª, –æ—Ñ—Ñ–ª–∞–π–Ω –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:
- R1 (–°—Ö–µ–º–∞ –ë–î + —Å–µ—Ä–≤–∏—Å—ã-–∑–∞–≥–ª—É—à–∫–∏ + bucket –¥–ª—è –≤–∏–¥–µ–æ) ‚Äî –ì–û–¢–û–í–û ‚úÖ
- –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –ø—É—Å—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–¥ –≤–∏–¥–µ–æ / –Ω–∞–≤—ã–∫–∏ / –±–µ–π–¥–∂–∏ / –æ–ø—ã—Ç.
- –†–∞–Ω–Ω—è—è PWA / a11y —Ä–∞–±–æ—Ç–∞ —Å–¥–µ–ª–∞–Ω–∞ —á–∞—Å—Ç–∏—á–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ (manifest + sw + lazy avatar –∏ —Ç.–¥.).

–î–∞–ª—å—à–µ (R2): —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π UI –ø—Ä–æ—Ñ–∏–ª—è (–æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö mock/–∏–∑ –ë–î), —Ä–µ–∞–ª—å–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –≤–∏–¥–µ–æ (feature flag), –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã SkillBar, BadgeCarousel, Timeline.

–û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ –ø–æ —Ñ–∞–∑–∞–º:
1. (–ì–û–¢–û–í–û) –°—Ö–µ–º–∞ –∏ —Å–µ—Ä–≤–∏—Å—ã.
2. (–í –†–ê–ë–û–¢–£ –°–õ–ï–î.) –í–∏–¥–∏–º—ã–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –±–ª–æ–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è.
3. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (—Ç—Ä–∏–≥–≥–µ—Ä—ã / –ø–µ—Ä–µ—Å—á—ë—Ç —É—Ä–æ–≤–Ω–µ–π / –∞–≤—Ç–æ –±–µ–π–¥–∂–∏).
4. Tailwind + –≤–∏–∑—É–∞–ª—å–Ω–∞—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è.
5. –£–ª—É—á—à–µ–Ω–Ω—ã–π PWA / –æ—Ñ—Ñ–ª–∞–π–Ω.
6. Telegram WebApp.
7. –®–∞—Ä–∏–Ω–≥ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.
8. –£–∫—Ä–µ–ø–ª–µ–Ω–∏–µ (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å / –ø–µ—Ä—Ñ / —Ç–µ—Å—Ç—ã).

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ ¬´—Å–µ–π—á–∞—Å –±—ã—Å—Ç—Ä–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –¥–µ–ª–∞—Ç—å¬ª ‚Äî —Å–º–æ—Ç—Ä–∏ —Ä–∞–∑–¥–µ–ª 10 (Next Action R2).

---

–î–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â—É—é –≤–æ–ª–Ω—É —Ä–∞–∑–≤–∏—Ç–∏—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –±–∞–∑–æ–≤–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –¶–µ–ª—å ‚Äî –ø–µ—Ä–µ–π—Ç–∏ –æ—Ç MVP –∫ –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –ø—Ä–æ–¥—É–∫—Ç—É —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º –ø—Ä–æ—Ñ–∏–ª–µ–º –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ (–≤–∏–¥–µ–æ, –±–µ–π–¥–∂–∏, –ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–∞–≤—ã–∫–æ–≤), –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–æ–π –∫ PWA + Telegram WebApp.

---

## 1. –í–∏–∂–µ–Ω / –¶–µ–Ω–Ω–æ—Å—Ç—å
–°–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è –æ–±—â–µ–ø–∏—Ç–∞ –ê—Å—Ç–∞–Ω—ã, –≥–¥–µ –ø—Ä–æ—Ñ–∏–ª—å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ ‚Äî –∂–∏–≤–æ–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ (–∫–æ—Ä–æ—Ç–∫–æ–µ –≤–∏–¥–µ–æ + –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ + –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è), –∞ —Å—Ä–æ—á–Ω—ã–µ –≤–∞–∫–∞–Ω—Å–∏–∏ –∏ –±—ã—Å—Ç—Ä—ã–π –Ω–∞–π–º –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –≤—ã—Å–æ–∫—É—é —Å–∫–æ—Ä–æ—Å—Ç—å –∑–∞–∫—Ä—ã—Ç–∏—è —Å–º–µ–Ω.

–ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è:
- –í–∏–¥–µ–æ-–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ (–¥–æ 15 —Å–µ–∫) + –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–≤—å—é
- –°–∏—Å—Ç–µ–º–∞ –±–µ–π–¥–∂–µ–π (–∞–≤—Ç–æ + —Ä—É—á–Ω–∞—è –≤—ã–¥–∞—á–∞) —Å –≤–ª–∏—è–Ω–∏–µ–º –Ω–∞ –Ω–∞–≤—ã–∫–∏
- –®–∫–∞–ª—ã –Ω–∞–≤—ã–∫–æ–≤ 0‚Äì100 —Å –ø–µ—Ä–µ—Å—á—ë—Ç–æ–º –æ—Ç –±–µ–π–¥–∂–µ–π
- –¢–∞–π–º–ª–∞–π–Ω –æ–ø—ã—Ç–∞ (—Å–º–µ–Ω—ã / —á–∞—Å—ã / –∑–∞–≤–µ–¥–µ–Ω–∏—è)
- PWA + Telegram WebApp –¥–æ—Å—Ç—É–ø

---

## 2. –î–∏–∞–ø–∞–∑–æ–Ω –±–ª–∏–∂–∞–π—à–∏—Ö —Ä–µ–ª–∏–∑–æ–≤
| –†–µ–ª–∏–∑ | –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–∫—É—Å | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|-------|----------------|-----------|
| R1 | Data Model Expansion | –°—Ö–µ–º–∞ –ë–î + —Å–µ—Ä–≤–∏—Å—ã + –∑–∞–≥–ª—É—à–∫–∏ UI |
| R2 | Interactive Profile Core | –í–∏–¥–µ–æ, –Ω–∞–≤—ã–∫–∏, –±–µ–π–¥–∂–∏ (MVP) |
| R3 | Logic & Automation | –¢—Ä–∏–≥–≥–µ—Ä—ã, –∞–≤—Ç–æ-–≤—ã–¥–∞—á–∞ –±–µ–π–¥–∂–µ–π, –ø–µ—Ä–µ—Å—á—ë—Ç skills |
| R4 | UX & Visual Upgrade | Tailwind, –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–∞—Ä—É—Å–µ–ª–∏ |
| R5 | PWA & Offline | Manifest, SW, –∫–µ—à–∏ |
| R6 | Telegram WebApp | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è + –∞–¥–∞–ø—Ç–∞—Ü–∏—è UI |
| R7 | Sharing & Recommendations | Deep links, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, share |
| R8 | Hardening | –¢–µ—Å—Ç—ã, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å |

---

## 3. –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (—Ä–µ–∑—é–º–µ)
–ó–∞–≤–µ—Ä—à—ë–Ω –±–∞–∑–æ–≤—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —É–ø—Ä–æ—â—ë–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ (—Ä–æ—É—Ç–∏–Ω–≥, stores, —Å–µ—Ä–≤–∏—Å—ã). –ü—Ä–æ—Ñ–∏–ª—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π, –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫–ª—é—á–µ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (skills, badges, work_logs, video). –õ–æ–∫–∞–ª—å–Ω—ã–µ JSON –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏.

---

## 4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã (–∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)
1. Single Source of Truth ‚Äî Supabase (–¥–µ–º–æ-—Ä–µ–∂–∏–º —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∞–¥–∞–ø—Ç–µ—Ä demoData)
2. Fat Backend / Thin Front Logic –¥–ª—è –≤—ã—á–∏—Å–ª–∏–º—ã—Ö –ø–æ–ª–µ–π (—É—Ä–æ–≤–Ω–∏ –Ω–∞–≤—ã–∫–æ–≤, –∞–≤—Ç–æ –±–µ–π–¥–∂–∏)
3. –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (baseline + –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç—ã, –±–µ–∑ —Ñ–æ—Ä—Å-reset)
4. –ö–æ–Ω—Ç—Ä–∞–∫—Ç —Å–µ—Ä–≤–∏—Å–æ–≤ —Å—Ç–∞–±–∏–ª–µ–Ω –¥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã (–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
5. –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ç—è–∂—ë–ª—ã—Ö —Å–µ–∫—Ü–∏–π (badges, timeline)

---

## 5. –ù–æ–≤–∞—è —Å—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö (–≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å)
- user_profiles: full_name, short_bio(<=100), primary_role, video_url, avatar_url, experience_years
- skills: id, user_id, name, category, base_level, calculated_level, updated_at
- badges: id, user_id, employer_id, name, icon_url, description, source(auto|manual), awarded_at
- badge_skill_links: badge_id, skill_name, delta
- work_logs: id, user_id, employer_id, period_from, period_to, shifts_count, total_hours
- employers: id, name, logo_url, district_id

–¢—Ä–∏–≥–≥–µ—Ä—ã:
- on insert work_logs ‚Üí check thresholds ‚Üí award badge
- on insert badges ‚Üí recalc user skills

–§—É–Ω–∫—Ü–∏–∏ (RPC):
- recalc_skills(user_id)
- get_user_profile_full(user_id) (–∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç badges, skills, work_logs)

---

## 6. –ü–æ–¥—Ä–æ–±–Ω—ã–π –ø–ª–∞–Ω –ø–æ —Ñ–∞–∑–∞–º

### –§–∞–∑–∞ 0 (DONE) ‚Äî –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–†–æ—É—Ç–∏–Ω–≥, stores, —É–ø—Ä–æ—â—ë–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã, —Ç–µ—Å—Ç—ã (25+). ‚úÖ

### –§–∞–∑–∞ 1 ‚Äî Data Model Expansion (R1) ‚Äî –ì–û–¢–û–í–û ‚úÖ
–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ: –º–∏–≥—Ä–∞—Ü–∏–∏ (—Ç–∞–±–ª–∏—Ü—ã + –∏–Ω–¥–µ–∫—Å—ã + RLS), —Ñ—É–Ω–∫—Ü–∏–∏-–∑–∞–≥–ª—É—à–∫–∏, storage bucket profile_videos, —Å–µ—Ä–≤–∏—Å—ã —Å–∫–µ–ª–µ—Ç—ã, —Ä–∞—Å—à–∏—Ä–µ–Ω store, –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
–†–µ–∑—É–ª—å—Ç–∞—Ç: —Ñ—Ä–æ–Ω—Ç –º–æ–∂–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –ø—É—Å—Ç—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–µ–∑ –ø–∞–¥–µ–Ω–∏–π.

### –§–∞–∑–∞ 2 ‚Äî Interactive Profile UI (R2)
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç VideoProfile (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª upload/play) ‚Äî SCAFFOLD –ì–û–¢–û–í –≤ R1, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–ª–æ–≥–∏–∫–∞/—Å—Ç–æ—Ä–∏–¥–∂) –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –¥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ R2
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç SkillBar (—Ü–≤–µ—Ç–æ–≤—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã)
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç BadgeCarousel (–≥–æ—Ä. —Å–∫—Ä–æ–ª–ª)
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç ExperienceTimeline (–∫–∞—Ä—Ç–æ—á–∫–∏)
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ profile store (badges[], skills[], experience[], videoUrl) ‚Äî –ì–û–¢–û–í–û (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞); –¥–∏–Ω–∞–º–∏–∫–∞ –≤–∏–¥–µ–æ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ feature flag
- [ ] –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å–µ–∫—Ü–∏–π (import())
- Note: FEATURE_FLAGS.videoProfile=false –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ UX –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Ä–∞–∑–º–µ—Ä–∞.
- Output: –ø—Ä–æ—Ñ–∏–ª—å –≤–∏–∑—É–∞–ª—å–Ω–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π c mock –¥–∞–Ω–Ω—ã–º–∏

### –§–∞–∑–∞ 3 ‚Äî Logic & Automation (R3)
- [ ] –¢—Ä–∏–≥–≥–µ—Ä auto badge –ø–æ shifts_count / total_hours
- [ ] –§—É–Ω–∫—Ü–∏—è recalc_skills + —Ç–µ—Å—Ç –≤—Ä—É—á–Ω—É—é (SQL)
- [ ] RPC get_user_profile_full
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ Supabase
- [ ] –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤ (Vitest mocks ‚Üí live)
- Output: –¥–∞–Ω–Ω—ã–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –æ—Ç—Ä–∞–∂–∞—é—Ç –±–µ–π–¥–∂–∏/–Ω–∞–≤—ã–∫–∏

### –§–∞–∑–∞ 4 ‚Äî Visual & Tailwind (R4)
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Tailwind (postcss + config)
- [ ] Tokens: —Ü–≤–µ—Ç–∞, spacing, shadows
- [ ] –ü–µ—Ä–µ–Ω–æ—Å –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞ utility –∫–ª–∞—Å—Å—ã
- [ ] –ê–¥–∞–ø—Ç–∏–≤ (sm / md / lg) –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è
- [ ] Skeleton loaders –¥–ª—è —Å–µ–∫—Ü–∏–π
- Output: –≤–∏–∑—É–∞–ª—å–Ω–æ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π UI

### –§–∞–∑–∞ 5 ‚Äî PWA (R5)
- [ ] manifest.json + –∏–∫–æ–Ω–∫–∏
- [ ] Service Worker (workbox –∏–ª–∏ custom) ‚Äî cache static + API fallback
- [ ] Lighthouse PWA score ‚â• 85
- [ ] Offline –ø—Ä–æ—Ñ–∏–ª—å (–∫–µ—à –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ snapshot)
- Output: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ offline view

### –§–∞–∑–∞ 6 ‚Äî Telegram WebApp (R6)
- [ ] –ë–∞–∑–æ–≤–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram init data
- [ ] –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∏ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ (Edge Function)
- [ ] –ê–¥–∞–ø—Ç–∞—Ü–∏—è –≤—ã—Å–æ—Ç—ã / —Ü–≤–µ—Ç–∞ —Ç–µ–º—ã
- [ ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (fullscreen profile / jobs)
- Output: —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ Telegram –∫–ª–∏–µ–Ω—Ç–∞

### –§–∞–∑–∞ 7 ‚Äî Sharing & Recommendations (R7)
- [ ] Deep link /profile/:id public view
- [ ] RecommendationBadge (employer ‚Üí candidate)
- [ ] Share –∫–Ω–æ–ø–∫–∞ (Web Share API + fallback copy)
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–≥–ª–∞–≤–ª–µ–Ω–∏—è Open Graph –º–µ—Ç–∞
- Output: –≤–Ω–µ—à–Ω–∏–π –ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è + –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã

### –§–∞–∑–∞ 8 ‚Äî Hardening & QA (R8)
- [ ] Security review RLS / –ø–æ–ª–∏—Ç–∏–∫–∞ –≤—ã–¥–∞—á–∏ –±–µ–π–¥–∂–µ–π
- [ ] –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —Ç–µ—Å—Ç: –º–∞—Å—Å–æ–≤–∞—è –≤—ã–¥–∞—á–∞ work_logs
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SQL (EXPLAIN –ø–ª–∞–Ω –Ω–∞ recalc)
- [ ] –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã (–¥–æ–±–∞–≤–∏—Ç—å ‚â•10 –Ω–æ–≤—ã—Ö)
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (—Ç–∞–±–ª–∏—Ü—ã + RPC)
- Output: –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—É–±–ª–∏—á–Ω–æ–º—É –ø–∏–ª–æ—Ç—É

---

## 7. Acceptance / Definition of Done –ø–æ –∫–ª—é—á–µ–≤—ã–º –±–ª–æ–∫–∞–º
| –ë–ª–æ–∫ | DoD |
|------|-----|
| Skills | CRUD + –ø–µ—Ä–µ—Å—á—ë—Ç + –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç calculated_level |
| Badges | –ü—Ä–∏—Å–≤–æ–µ–Ω–∏–µ manual + auto, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∫–∞—Ä—É—Å–µ–ª–∏, tooltip –æ–ø–∏—Å–∞–Ω–∏—è |
| Video | Upload < 25MB, –ø—Ä–µ–≤—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ mobile/desktop, fallback –∞–≤–∞—Ç–∞—Ä |
| Timeline | –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ, –±–µ–π–¥–∂–∏ –≤–Ω—É—Ç—Ä–∏ –ø–µ—Ä–∏–æ–¥–∞, —Å—É–º–º–∞ —á–∞—Å–æ–≤ |
| Profile API | –û–¥–∏–Ω RPC –æ—Ç–¥–∞—ë—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É < 400ms |
| PWA | Lighthouse PWA ‚â• 85 / Performance ‚â• 80 |
| Telegram | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫ –±–µ–∑ –æ—à–∏–±–æ–∫, –ø—Ä–æ—Ñ–∏–ª—å –≥—Ä—É–∑–∏—Ç—Å—è < 2s |

---

## 8. –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞ (MVP+)
- –í—Ä–µ–º—è —Ä–µ–Ω–¥–µ—Ä–∞ –ø–æ–ª–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ—Ñ–∏–ª—è (cold) < 1.5s (desktop)
- –°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª-–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–æ—Ñ–∏–ª—è ‚â§ 4 (RPC –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç)
- –†–∞–∑–º–µ—Ä initial JS bundle ‚â§ 300KB gzipped (lazy profile extras)
- ‚â• 90% test pass rate; –ø–æ–∫—Ä—ã—Ç–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ ‚â• 70% lines
- PWA Install prompt –¥–æ—Å—Ç—É–ø–µ–Ω –∏ —É—Å–ø–µ—à–µ–Ω (manual QA)

---

## 9. –†–∏—Å–∫ –º–∞—Ç—Ä–∏—Ü–∞ (–æ–±–Ω–æ–≤–ª.)
| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω. | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|----------|---------|-----------|
| –ó–∞–¥–µ—Ä–∂–∫–∞ –≤–∏–¥–µ–æ (FFmpeg/–ø—Ä–µ–≤—å—é) | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω–µ–µ | MVP –±–µ–∑ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ‚Äî —Ç–æ–ª—å–∫–æ upload + poster –∫–∞–¥—Ä —á–µ—Ä–µ–∑ <video> capture |
| –°–ª–æ–∂–Ω–æ—Å—Ç—å –∞–≤—Ç–æ –±–µ–π–¥–∂–µ–π | –ù–∏–∑–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | –ù–∞—á–∞—Ç—å —Å 1 –ø—Ä–∞–≤–∏–ª–∞ (5 —Å–º–µ–Ω) ‚Üí —Ä–∞—Å—à–∏—Ä—è—Ç—å |
| RLS –æ—à–∏–±–∫–∏ (—É—Ç–µ—á–∫–∞ –¥–∞–Ω–Ω—ã—Ö) | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–æ–µ | –†–µ–≤—å—é –ø–æ–ª–∏—Ç–∏–∫ + —Ç–µ—Å—Ç –∫–µ–π—Å—ã –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ |
| Telegram init data spoof | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | –ü–æ–¥–ø–∏—Å—å + –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ hash –∞–ª–≥–æ—Ä–∏—Ç–º Telegram |
| –†–æ—Å—Ç bundle | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω–µ–µ | Code-splitting + dynamic import —Å–µ–∫—Ü–∏–π –ø—Ä–æ—Ñ–∏–ª—è |

---

## 10. Next Action List (—Å—Ç–∞—Ä—Ç R2 ‚Äî Interactive Profile UI)
–¶–µ–ª—å R2: –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ¬´–∂–∏–≤–æ–π¬ª –ø—Ä–æ—Ñ–∏–ª—å (–±–µ–∑ –µ—â—ë —Å–ª–æ–∂–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏), –≤–∫–ª—é—á–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏ –≤–∏–¥–µ–æ –ø—Ä–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏.

UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã / –í–∏–∑—É–∞–ª:
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å VideoProfile (–ª–æ–≥–∏–∫–∞ upload + –ø—Ä–µ–≤—å—é, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞, —Ñ–∏—á–∞-—Ñ–ª–∞–≥ ‚Üí true –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∞)
- [ ] SkillBar: –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å —Å —Ü–≤–µ—Ç–æ–≤–æ–π –≥—Ä–∞–¥–∞—Ü–∏–µ–π (0‚Äì30 / 31‚Äì70 / 71‚Äì100)
- [ ] BadgeCarousel: –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª, tooltip (name + description)
- [ ] ExperienceTimeline: —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–∏–æ–¥–æ–≤ (period_from‚Äìperiod_to, shifts_count, total_hours)
- [ ] –õ–µ–Ω–∏–≤–∞—è –ø–æ–¥–≥—Ä—É–∑–∫–∞ –±–ª–æ–∫–æ–≤ (dynamic import) –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è initial bundle

–î–∞–Ω–Ω—ã–µ / –°–µ—Ä–≤–∏—Å—ã:
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å mock –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö skills / badges / work_logs (–≤—ã–Ω–µ—Å—Ç–∏ –≤ utils/mockProfileData.js)
- [ ] Profile store: –º–µ—Ç–æ–¥—ã loadSkills/loadBadges/loadExperience (–ø–æ–∫–∞ –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫ mock –¥–æ R3)
- [ ] –§–∏—á–∞-—Ñ–ª–∞–≥ videoProfile: –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —á–µ—Ä–µ–∑ .env / constants (–≤ dev –≤–∫–ª—é—á–∏—Ç—å –¥–ª—è —Ç–µ—Å—Ç–∞)

–¢–µ—Ö–Ω–∏–∫–æ-–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ:
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å dev –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–∏—Å–ø—Ä–∞–≤–∏—Ç—å MIME / HMR –ø—Ä–æ–±–ª–µ–º—É –≤ Safari) ‚Äî —Å–º. –ü—Ä–æ—Å—Ç–æ–π —á–µ–∫ –Ω–∏–∂–µ
- [ ] –î–æ–±–∞–≤–∏—Ç—å tsconfig + –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ (—Å—Ç–∞—Ä—Ç TS –≤–Ω–µ–¥—Ä–µ–Ω–∏—è: —à–∞–≥ 1)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å README —Ä–∞–∑–¥–µ–ª ¬´–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å¬ª (—É—á–µ—Å—Ç—å feature flags)

–ü—Ä–æ—Å—Ç–æ–π —á–µ–∫ –ø–æ Safari –æ—à–∏–±–∫–µ (CSS –∫–∞–∫ JS):
1. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ `npm run dev` —Ä–µ–∞–ª—å–Ω–æ —Å—Ç–∞—Ä—Ç—É–µ—Ç Vite (–±–∞–Ω–Ω–µ—Ä –≤ –∫–æ–Ω—Å–æ–ª–∏).  
2. –ù–µ—Ç –ª–∏ –¥—Ä—É–≥–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–∞ –ø–æ—Ä—Ç—É 8080 (–æ—Å–≤–æ–±–æ–¥–∏—Ç—å).  
3. –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à + —É–¥–∞–ª–∏—Ç—å (unregister) service worker –≤ DevTools.  
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å dev –∏ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É (Cmd+Shift+R).  
5. –ï—Å–ª–∏ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –∏–º–ø–æ—Ä—Ç CSS –Ω–∞ <link> + –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞—Ç–µ–º –≤–µ—Ä–Ω—É—Ç—å.

–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ R2: —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤–∏–¥–µ–æ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ), —à–∫–∞–ª—ã –Ω–∞–≤—ã–∫–æ–≤, –±–µ–π–¥–∂–∏ –≤ –∫–∞—Ä—É—Å–µ–ª–∏, –æ–ø—ã—Ç; –¥–∞–Ω–Ω—ã–µ –ø–æ–¥–≥—Ä—É–∂–∞—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (mock) –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

---

## 11. –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (–∑–∞–∫—Ä–µ–ø–ª—è–µ–º)
–°—Ç–∞—Ä—ã–µ —ç—Ç–∞–ø—ã (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥, —Ç–µ—Å—Ç—ã, —É–ø—Ä–æ—â–µ–Ω–∏–µ —Ä–æ—É—Ç–∏–Ω–≥–∞) —Å—á–∏—Ç–∞–µ–º –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–º–∏ –∏ –Ω–µ —Ç—Ä–æ–≥–∞–µ–º –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏. –≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª —Å–ª—É–∂–∏—Ç —Ç–æ—á–∫–æ–π –æ—Ç—Å–µ—á–µ–Ω–∏—è –¥–ª—è –Ω–æ–≤–æ–π –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç—ã.

---

## 12. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–π —Ñ–∞–∑—ã: –æ–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å + –º–µ—Ç—Ä–∏–∫–∏. –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç R1 –∑–∞–∫—Ä—ã—Ç (–≤—Å–µ —á–µ–∫–±–æ–∫—Å—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã). –≠—Ç–æ—Ç —Ñ–∞–π–ª —Ç–µ–ø–µ—Ä—å —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω –Ω–∞ R2.

### Early Out-of-Scope (—á—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ –≤–Ω–µ –æ—á–µ—Ä–µ–¥–∏)
- PWA manifest + –Ω–∞—á–∞–ª—å–Ω—ã–π service worker
- Lazy –∑–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∞
- ARIA —É–ª—É—á—à–µ–Ω–∏—è –∏ skip link
- prefers-reduced-motion —Å—Ç–∏–ª–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è manualChunks (—É–ø—Ä–æ—â–µ–Ω–æ)

---

## 13. –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ (–∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)
–î–≤–∏–∂–µ–º—Å—è –ø–æ —Å–ª–æ—è–º: (1) –¥–∞–Ω–Ω—ã–µ ‚úî ‚Üí (2) UI –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ ‚Üí (3) –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è ‚Üí (4) –≤–∏–∑—É–∞–ª / Tailwind ‚Üí (5) –æ—Ñ—Ñ–ª–∞–π–Ω / PWA ‚Üí (6) Telegram ‚Üí (7) —à–∞—Ä–∏–Ω–≥ ‚Üí (8) hardening.

–°–µ–π—á–∞—Å: –ø–µ—Ä–µ–π—Ç–∏ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ UI (R2). –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ–º –¥–æ R3, —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–µ–µ –ø–æ–∫–∞–∑–∞—Ç—å —Ü–µ–Ω–Ω–æ—Å—Ç—å.

---

## 14. –î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è ERD (—Ç–∞–±–ª–∏—Ü—ã v2)
| –¢–∞–±–ª–∏—Ü–∞ | –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç. | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|------|-----|---------|--------------|----------|
| user_profiles | id (PK) | uuid | ‚úî | gen_random_uuid() | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å = auth.users.id (–¥—É–±–ª–∏—Ä—É–µ–º –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏) |
|  | auth_user_id (FK) | uuid | ‚úî |  | –°—Å—ã–ª–∫–∞ –Ω–∞ auth.users (1:1) |
|  | full_name | text | ‚úî |  | –ò–º—è |
|  | primary_role | text | ‚úî |  | –ö–ª—é—á–µ–≤–∞—è —Ä–æ–ª—å (chef, waiter...) |
|  | short_bio | text | ‚úñ |  | <=100 —Å–∏–º–≤–æ–ª–æ–≤ |
|  | avatar_url | text | ‚úñ |  | –ü—É—Ç—å –≤ storage |
|  | video_url | text | ‚úñ |  | –ü—É—Ç—å –∫ –≤–∏–¥–µ–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è |
|  | experience_years | smallint | ‚úñ | 0 | –ü–æ–ª–Ω—ã–µ –≥–æ–¥—ã –æ–ø—ã—Ç–∞ |
|  | created_at | timestamptz | ‚úî | now() | –°–æ–∑–¥–∞–Ω–æ |
|  | updated_at | timestamptz | ‚úî | now() | –û–±–Ω–æ–≤–ª–µ–Ω–æ (—Ç—Ä–∏–≥–≥–µ—Ä) |
| skills | id (PK) | uuid | ‚úî | gen_random_uuid() | |
|  | user_id (FK) | uuid | ‚úî |  | -> user_profiles.id |
|  | name | text | ‚úî |  | –£–Ω–∏–∫–∞–ª—å–Ω–æ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö user_id |
|  | category | text | ‚úñ |  | kitchen/service/... |
|  | base_level | smallint | ‚úî | 0 | 0‚Äì100 –≤–≤–æ–¥ –ø–µ—Ä–µ–Ω. |
|  | calculated_level | smallint | ‚úî | 0 | base + –¥–µ–ª—å—Ç—ã –±–µ–π–¥–∂–µ–π |
|  | updated_at | timestamptz | ‚úî | now() | |
| badges | id (PK) | uuid | ‚úî | gen_random_uuid() | |
|  | user_id (FK) | uuid | ‚úî |  | -> user_profiles.id |
|  | employer_id (FK) | uuid | ‚úñ |  | -> employers.id |
|  | name | text | ‚úî |  | –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è |
|  | icon_url | text | ‚úñ |  | –ü—É—Ç—å –∫ –∏–∫–æ–Ω–∫–µ |
|  | description | text | ‚úñ |  | Tooltip |
|  | source | text | ‚úî | 'manual' | manual|auto |
|  | awarded_at | timestamptz | ‚úî | now() | |
| badge_skill_links | badge_id (FK) | uuid | ‚úî |  | -> badges.id |
|  | skill_name | text | ‚úî |  | –ò–º—è –Ω–∞–≤—ã–∫–∞ (FK –ø–æ (user_id, name) –ª–æ–≥–∏—á–µ—Å–∫–∏) |
|  | delta | smallint | ‚úî | 0 | + / - –∏–∑–º–µ–Ω–µ–Ω–∏–µ |
| work_logs | id (PK) | uuid | ‚úî | gen_random_uuid() | |
|  | user_id (FK) | uuid | ‚úî |  | -> user_profiles.id |
|  | employer_id (FK) | uuid | ‚úî |  | -> employers.id |
|  | period_from | date | ‚úî |  | –ù–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞ |
|  | period_to | date | ‚úî |  | –ö–æ–Ω–µ—Ü –ø–µ—Ä–∏–æ–¥–∞ |
|  | shifts_count | smallint | ‚úî | 0 | –ö–æ–ª-–≤–æ —Å–º–µ–Ω |
|  | total_hours | smallint | ‚úî | 0 | –ß–∞—Å—ã —Å—É–º–º–∞—Ä–Ω–æ |
| employers | id (PK) | uuid | ‚úî | gen_random_uuid() | |
|  | name | text | ‚úî |  | –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–≤–µ–¥–µ–Ω–∏—è |
|  | logo_url | text | ‚úñ |  | –õ–æ–≥–æ—Ç–∏–ø |
|  | district_id | smallint | ‚úñ |  | –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ä–∞–π–æ–Ω–æ–≤ |

–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ / –ò–Ω–¥–µ–∫—Å—ã:
- skills: UNIQUE (user_id, name)
- badges: INDEX (user_id, awarded_at DESC)
- work_logs: INDEX (user_id, employer_id)

## 15. Naming & –º–∏–≥—Ä–∞—Ü–∏–∏
- –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞: YYYYMMDDHHMMSS_<snake_case>.sql
- Baseline: 20250810xxxxxx_baseline_profile_extension.sql (–æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –Ω–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã)
- –î–∞–ª—å—à–µ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç—ã: add_triggers, add_rpcs, add_indexes
- –í –º–∏–≥—Ä–∞—Ü–∏—è—Ö –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DROP CASCADE –±–µ–∑ –æ—Å—Ç—Ä–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## 16. RLS (—á–µ—Ä–Ω–æ–≤–∏–∫ –ø–æ–ª–∏—Ç–∏–∫)
1. ENABLE RLS ON ALL new tables
2. user_profiles: SELECT/UPDATE/DELETE WHERE auth.uid() = auth_user_id
3. skills/badges/work_logs: row.user_id = (SELECT id FROM user_profiles WHERE auth_user_id = auth.uid())
4. employers: –ø—É–±–ª–∏—á–Ω—ã–π SELECT (–ø–æ–∑–∂–µ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø–æ —Ä–æ–ª–∏)
5. –§—É–Ω–∫—Ü–∏–∏ recalc_skills –∏ award_badge SECURITY DEFINER (–≤–ª–∞–¥–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å —Ä–æ–ª—å—é)

## 17. –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
skills.service:
- list(userId) -> Skill[]
- upsert(userId, {name, baseLevel}) -> Skill
- recalc(userId) -> Skill[]

badges.service:
- list(userId)
- awardManual(userId, payload)
- listWithSkills(userId)

experience.service (work_logs):
- list(userId)
- addEntry(userId, entry)
- aggregate(userId) -> { totalHours, totalShifts }

media.service:
- uploadProfileVideo(userId, file) -> { url }
- removeVideo(userId)

profile.service (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ):
- getFull(userId) -> { profile, skills, badges, workLogs }

## 18. –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
| –§–∞–∑–∞ | –¢–µ—Å—Ç—ã | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç |
|------|-------|------------|
| R1 | SQL –º–∏–≥—Ä–∞—Ü–∏–∏ (idempotent), mock —Å–µ—Ä–≤–∏—Å—ã | psql + Vitest |
| R2 | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI (snapshot + –∏–Ω—Ç–µ—Ä–∞–∫—Ü–∏—è) | Vitest + Testing Library |
| R3 | –¢—Ä–∏–≥–≥–µ—Ä—ã / RPC (–ø–æ–∑–∏—Ç–∏–≤/–Ω–µ–≥–∞—Ç–∏–≤) | SQL scripts + Vitest integration |
| R4 | –í–∏–∑—É–∞–ª—å–Ω—ã–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ (–∫—Ä–∏—Ç–∏—á–Ω—ã–µ) | Percy (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–æ–∑–∂–µ) |
| R5 | PWA Lighthouse | lighthouse ci |
| R6 | Telegram init validation | Vitest + –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ payload fixtures |
| R7 | Sharing links (OG –º–µ—Ç–∞) | Playwright (–æ–ø—Ü.) |
| R8 | –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ (work_logs bulk) | k6 / simple node script |

## 19. Observability & –õ–æ–≥–∏
- Front: –µ–¥–∏–Ω—ã–π logger util (info,error,perf) -> console + future endpoint
- Backend (SQL): —Ç–∞–±–ª–∏—Ü–∞ audit_badges (badge_id, user_id, rule, created_at)
- –ú–µ—Ç—Ä–∏–∫–∞ recalc_skills –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (ms) (–ª–æ–≥ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É performance_events)

## 20. Performance Budget
- Full Profile RPC ‚â§ 400ms (P95)
- Recalc skills ‚â§ 120ms –ø—Ä–∏ ‚â§ 50 skills
- Upload video start->URL ‚â§ 4s (wifi)
- SkillBar –∏–Ω—Ç–µ—Ä–∞–∫—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä ‚â§ 16ms –∫–∞–¥—Ä

## 21. Rollback —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
1. –ö–∞–∂–¥–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –∏–º–µ–µ—Ç down-–±–ª–æ–∫ (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)
2. –ü—Ä–∏ –æ—à–∏–±–∫–µ –Ω–∞ prod: disable triggers ‚Üí revert last migration ‚Üí re-enable
3. Backup –¥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞–±–æ—Ä–∞ –º–∏–≥—Ä–∞—Ü–∏–π (Supabase dump)

## 22. –ü–µ—Ä–µ—Ö–æ–¥ —Å demo JSON –Ω–∞ –ë–î
R1: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (–µ—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ Supabase ‚Äî fallback JSON)
R2: –ó–∞–≤–µ—Ä—à–∏—Ç—å –ø–µ—Ä–µ–Ω–æ—Å: —É–±—Ä–∞—Ç—å JSON, –æ—Å—Ç–∞–≤–∏—Ç—å feature flag ?useDemoData=true
R3: –£–¥–∞–ª–∏—Ç—å –¥–µ–º–æ –∞–¥–∞–ø—Ç–µ—Ä

## 23. –ü–æ—ç—Ç–∞–ø–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ TypeScript
- –®–∞–≥ 1 (R2): –î–æ–±–∞–≤–∏—Ç—å tsconfig, —Ç–∏–ø—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (.d.ts)
- –®–∞–≥ 2 (R3): –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å—ã –Ω–∞ .ts
- –®–∞–≥ 3 (R4-R5): –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ store + –∫–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ú–∏–Ω–∏ goal: >60% —Å—Ç—Ä–æ–∫ TS –∫ R6

## 24. Accessibility / UX –±–∞–∑–æ–≤—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã
- –ö–æ–Ω—Ç—Ä–∞—Å—Ç ‚â• 4.5:1 –¥–ª—è —Ç–µ–∫—Å—Ç–∞
- Keyboard focus: –≤—Å–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- ARIA labels –¥–ª—è –∏–∫–æ–Ω–æ–∫ –±–µ–π–¥–∂–µ–π
- Video: –∫–Ω–æ–ø–∫–∞ mute + fallback caption ‚Äú–í–∏–¥–µ–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ‚Äù

## 25. Security Checklist
- RLS –≤–∫–ª—é—á—ë–Ω: –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã ‚úî
- Storage bucket: –ø—É–±–ª–∏—á–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –≤–∏–¥–µ–æ? (MVP: auth gated URL)
- Max video size –ø—Ä–æ–≤–µ—Ä–∫–∞ client + server
- Rate limit –≤—Ä—É—á–Ω—É—é (–∫–≤–æ—Ç—ã –Ω–∞ awardManual) ‚Äî edge function (–ø–æ–∑–∂–µ)

## 26. Release cadence & governance
- –ö–∞–∂–¥–∞—è —Ñ–∞–∑–∞ = minor —Ä–µ–ª–∏–∑ (v0.X)
- Hotfix ‚Üí patch (v0.X.Y)
- Changelog –≤ docs/CHANGELOG.md (–¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Ä–µ–ª–∏–∑–µ R1)

## 27. Glossary
- Skill: –∏–∑–º–µ—Ä—è–µ–º—ã–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å 0‚Äì100
- Badge: –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ, –º–æ–∂–µ—Ç –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å skill
- Delta: –∏–∑–º–µ–Ω–µ–Ω–∏–µ base_level —á–µ—Ä–µ–∑ badge
- Work Log: –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å –ø–µ—Ä–∏–æ–¥–∞ (–Ω–µ –ø–æ –∫–∞–∂–¥–æ–π —Å–º–µ–Ω–µ)
- RPC: —Ö—Ä–∞–Ω–∏–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –≤—ã–∑—ã–≤–∞–µ–º–∞—è —á–µ—Ä–µ–∑ Supabase JS

## 28. –ò—Ç–æ–≥–∏ R1 (—Ñ–∏–∫—Å–∏—Ä—É–µ–º –∏ –∑–∞–∫—Ä—ã–≤–∞–µ–º)
–í—Å–µ –∫–ª—é—á–µ–≤—ã–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:
- ‚úÖ Baseline –º–∏–≥—Ä–∞—Ü–∏—è (—Ç–∞–±–ª–∏—Ü—ã + –∏–Ω–¥–µ–∫—Å—ã) / —Ç—Ä–∏–≥–≥–µ—Ä—ã updated_at
- ‚úÖ –§—É–Ω–∫—Ü–∏–∏-–∑–∞–≥–ª—É—à–∫–∏ recalc_skills, get_user_profile_full
- ‚úÖ Storage bucket profile_videos (private) + –ø–æ–ª–∏—Ç–∏–∫–∏
- ‚úÖ –°–µ—Ä–≤–∏—Å—ã (skills / badges / experience / media) ‚Äî —Å–∫–µ–ª–µ—Ç
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å store
- ‚úÖ Pending —Ç–µ—Å—Ç—ã + –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ö–µ–º—ã
- ‚úÖ ERD (DBML + SVG) ‚Äî PNG (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
- ‚úÖ CHANGELOG –∑–∞–ø–∏—Å—å

R1 –∑–∞–∫—Ä—ã—Ç. –î–∞–ª—å—à–µ ‚Äî —Å–º. —Ä–∞–∑–¥–µ–ª 10 (Next Action List) –¥–ª—è R2.

---

## 29. –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ–∑—é–º–µ (–ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º R2)
–ï—Å—Ç—å –Ω–∞–¥—ë–∂–Ω–∞—è –æ—Å–Ω–æ–≤–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –∫–∞—Ä–∫–∞—Å UI. –°–ª–µ–¥—É—é—â–∏–π —Ä–µ–ª–∏–∑ –ø—Ä–∏–Ω–æ—Å–∏—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã + –∑–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ). –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á—ë—Ç—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –æ—Å—Ç–∞–≤–ª–µ–Ω—ã –Ω–∞ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–∑—ã, —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–µ–µ –ø–æ–∫–∞–∑–∞—Ç—å –≤–∏–¥–∏–º—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

END.
