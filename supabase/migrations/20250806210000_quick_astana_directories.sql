-- –ë—ã—Å—Ç—Ä–∞—è –º–∏–≥—Ä–∞—Ü–∏—è: –¢–æ–ª—å–∫–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –¥–ª—è –ê—Å—Ç–∞–Ω—ã
-- –î–∞—Ç–∞: 6 –∞–≤–≥—É—Å—Ç–∞ 2025

BEGIN;

-- –°–æ–∑–¥–∞–µ–º —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç

-- 1. –†–∞–π–æ–Ω—ã –ê—Å—Ç–∞–Ω—ã
CREATE TABLE IF NOT EXISTS city_districts (
    id serial PRIMARY KEY,
    name varchar(100) NOT NULL UNIQUE,
    description text,
    metro_stations text[],
    created_at timestamp with time zone DEFAULT NOW()
);

-- –ó–∞–ø–æ–ª–Ω—è–µ–º —Ä–∞–π–æ–Ω—ã –ê—Å—Ç–∞–Ω—ã
INSERT INTO city_districts (name, description, metro_stations) VALUES
('–ï—Å–∏–ª—å', '–õ–µ–≤–æ–±–µ—Ä–µ–∂–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π —Ä–∞–π–æ–Ω –ê—Å—Ç–∞–Ω—ã', ARRAY['–ù—É—Ä-–ñ–æ–ª', '–°–∞—Ä—ã–∞—Ä–∫–∞', '–ú–æ—Å–∫–æ–≤—Å–∫–∞—è']),
('–ê–ª–º–∞—Ç—ã', '–ü—Ä–∞–≤–æ–±–µ—Ä–µ–∂–Ω—ã–π —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–∞–π–æ–Ω', ARRAY['–î–æ—Å—Ç—ã–∫', '–ñ–∏–±–µ–∫ –ñ–æ–ª—ã', '–ê–ª–º–∞—Ç—ã']),
('–°–∞—Ä—ã–∞—Ä–∫–∞', '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π —Ü–µ–Ω—Ç—Ä –≥–æ—Ä–æ–¥–∞', ARRAY['–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç', '–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å', '–°–∞—Ä—ã–∞—Ä–∫–∞']),
('–ë–∞–π–∫–æ–Ω—ã—Ä', '–°–µ–≤–µ—Ä–æ-–∑–∞–ø–∞–¥–Ω—ã–π —Ä–∞–π–æ–Ω –≥–æ—Ä–æ–¥–∞', ARRAY['–ë–∞–π–∫–æ–Ω—ã—Ä', '–ö–æ—Å–º–æ–Ω–∞–≤—Ç–æ–≤', '–¢—É—Ä–∞–Ω']),
('–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π', '–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä –ê—Å—Ç–∞–Ω—ã', ARRAY['–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å—Ç–∞–¥–∏–æ–Ω', '–ê–∫ –û—Ä–¥–∞', '–ë–∞–π—Ç–µ—Ä–µ–∫'])
ON CONFLICT (name) DO NOTHING;

-- 2. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –æ–±—â–µ–ø–∏—Ç–∞
CREATE TABLE IF NOT EXISTS specializations (
    id serial PRIMARY KEY,
    name varchar(100) NOT NULL UNIQUE,
    description text,
    icon varchar(50),
    category varchar(50) DEFAULT 'kitchen',
    created_at timestamp with time zone DEFAULT NOW()
);

INSERT INTO specializations (name, description, icon, category) VALUES
('–ü–æ–≤–∞—Ä', '–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∏ –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏—Ö –±–ª—é–¥', 'üë®‚Äçüç≥', 'kitchen'),
('–°—É-—à–µ—Ñ', '–ü–æ–º–æ—â–Ω–∏–∫ —à–µ—Ñ-–ø–æ–≤–∞—Ä–∞, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –∫—É—Ö–Ω–∏', 'üë©‚Äçüç≥', 'kitchen'),
('–û—Ñ–∏—Ü–∏–∞–Ω—Ç', '–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –≥–æ—Å—Ç–µ–π, –∑–Ω–∞–Ω–∏–µ –∫–∞–∑–∞—Ö—Å–∫–∏—Ö —Ç—Ä–∞–¥–∏—Ü–∏–π', 'üôã‚Äç‚ôÇÔ∏è', 'service'),
('–ë–∞—Ä–º–µ–Ω', '–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–ø–∏—Ç–∫–æ–≤, –∑–Ω–∞–Ω–∏–µ –∫–∞–∑–∞—Ö—Å–∫–∏—Ö –Ω–∞–ø–∏—Ç–∫–æ–≤', 'üçπ', 'service'),
('–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∑–∞–ª–∞', '–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –∑–∞–ª–∞, —Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤', 'üìã', 'management'),
('–ö–∞—Å—Å–∏—Ä', '–†–∞–±–æ—Ç–∞ —Å –∫–∞—Å—Å–æ–π, —Ä–∞—Å—á–µ—Ç –≤ —Ç–µ–Ω–≥–µ –∏ –¥—Ä—É–≥–∏—Ö –≤–∞–ª—é—Ç–∞—Ö', 'üí≥', 'service'),
('–ö—É—Ä—å–µ—Ä', '–î–æ—Å—Ç–∞–≤–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –ø–æ –ê—Å—Ç–∞–Ω–µ', 'üö≤', 'delivery')
ON CONFLICT (name) DO NOTHING;

-- 3. –¢–∏–ø—ã –∑–∞–≤–µ–¥–µ–Ω–∏–π
CREATE TABLE IF NOT EXISTS venue_types (
    id serial PRIMARY KEY,
    name varchar(100) NOT NULL UNIQUE,
    description text,
    icon varchar(50),
    typical_pay_range_min integer DEFAULT 0,
    typical_pay_range_max integer DEFAULT 50000,
    created_at timestamp with time zone DEFAULT NOW()
);

INSERT INTO venue_types (name, description, icon, typical_pay_range_min, typical_pay_range_max) VALUES
('–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω', '–†–µ—Å—Ç–æ—Ä–∞–Ω –∫–∞–∑–∞—Ö—Å–∫–æ–π –∏ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ-–∞–∑–∏–∞—Ç—Å–∫–æ–π –∫—É—Ö–Ω–∏', 'üèõÔ∏è', 8000, 25000),
('–ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω', '–†–µ—Å—Ç–æ—Ä–∞–Ω –µ–≤—Ä–æ–ø–µ–π—Å–∫–æ–π –∫—É—Ö–Ω–∏', 'üçΩÔ∏è', 10000, 30000),
('–ö–∞—Ñ–µ', '–ù–µ–±–æ–ª—å—à–æ–µ –∑–∞–≤–µ–¥–µ–Ω–∏–µ —Å –ª–µ–≥–∫–∏–º –º–µ–Ω—é', '‚òï', 5000, 15000),
('–§–∞—Å—Ç—Ñ—É–¥', '–ó–∞–≤–µ–¥–µ–Ω–∏–µ –±—ã—Å—Ç—Ä–æ–≥–æ –ø–∏—Ç–∞–Ω–∏—è', 'üçî', 4000, 12000),
('–®–∞—à–ª—ã—á–Ω–∞—è', '–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –º—è—Å–Ω—ã—Ö –±–ª—é–¥–∞—Ö –Ω–∞ —É–≥–ª—è—Ö', 'üî•', 6000, 20000),
('–ß–∞–π—Ö–∞–Ω–∞', '–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–µ –∫–∞–∑–∞—Ö—Å–∫–æ–µ –∑–∞–≤–µ–¥–µ–Ω–∏–µ', 'ü´ñ', 5000, 18000)
ON CONFLICT (name) DO NOTHING;

-- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
CREATE TABLE IF NOT EXISTS simple_logs (
    id serial PRIMARY KEY,
    operation text NOT NULL,
    executed_at timestamp with time zone DEFAULT NOW(),
    success boolean DEFAULT true,
    details text
);

INSERT INTO simple_logs (operation, details)
VALUES ('create_astana_directories', '–°–æ–∑–¥–∞–Ω—ã —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –¥–ª—è –ê—Å—Ç–∞–Ω—ã: —Ä–∞–π–æ–Ω—ã, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, —Ç–∏–ø—ã –∑–∞–≤–µ–¥–µ–Ω–∏–π');

COMMIT;

-- –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –¥–ª—è –ê—Å—Ç–∞–Ω—ã —Å–æ–∑–¥–∞–Ω—ã —É—Å–ø–µ—à–Ω–æ
